<script>
    import { createEventDispatcher } from 'svelte';
    const dispatch = createEventDispatcher();

    export let zoom;
    export let currentPageMode;

    function showPreview() {
        dispatch('showPreview', {
            
        });
    }
    function setZoomDefault(){
        dispatch('setZoomDefault', {
            
        });
    }

</script>


<main>
    {#if currentPageMode == 'page'}
    <button id="save-button" on:click={()=>{dispatch('saveFile', {});}}>
        <div>Save</div>
    </button>
    {:else if currentPageMode == 'component'}
    <div style="width: 50px; height: 50px;"></div>
    {/if}

    <div style="width:200px; height: 50px;" class="flex-row-center">
        <div on:click={()=>{dispatch('exportFileAsSvelte', {})}}>
            <svg width="75" height="50" viewBox="0 0 75 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M75 9H15C6.71573 9 0 15.7157 0 24C0 32.2843 6.71573 39 15 39H75V9Z" fill="#18A0FB"/>
            <path d="M17.816 20H21.232V19.44H18.472V17.2H20.72V16.632H18.472V14.712H21.144V14.144H17.816V20ZM22.3106 20H22.9986L23.6146 18.952C23.7586 18.688 23.9026 18.424 24.0626 18.176H24.1026C24.2706 18.424 24.4306 18.688 24.5746 18.952L25.2466 20H25.9586L24.5266 17.816L25.8466 15.68H25.1666L24.6066 16.664C24.4626 16.904 24.3346 17.144 24.2066 17.392H24.1666C24.0226 17.144 23.8706 16.904 23.7346 16.664L23.1266 15.68H22.4226L23.7426 17.752L22.3106 20ZM27.6333 21.856H28.2813V20.368L28.2653 19.6C28.6733 19.928 29.0893 20.112 29.4813 20.112C30.4813 20.112 31.3693 19.256 31.3693 17.776C31.3693 16.44 30.7693 15.576 29.6493 15.576C29.1373 15.576 28.6493 15.864 28.2493 16.192H28.2333L28.1693 15.68H27.6333V21.856ZM29.3933 19.56C29.0973 19.56 28.6973 19.432 28.2813 19.088V16.744C28.7293 16.344 29.1133 16.128 29.4973 16.128C30.3533 16.128 30.6893 16.8 30.6893 17.784C30.6893 18.88 30.1373 19.56 29.3933 19.56ZM35.0111 20.112C36.0671 20.112 36.9951 19.28 36.9951 17.848C36.9951 16.408 36.0671 15.576 35.0111 15.576C33.9551 15.576 33.0191 16.408 33.0191 17.848C33.0191 19.28 33.9551 20.112 35.0111 20.112ZM35.0111 19.56C34.2271 19.56 33.6991 18.872 33.6991 17.848C33.6991 16.816 34.2271 16.12 35.0111 16.12C35.7871 16.12 36.3231 16.816 36.3231 17.848C36.3231 18.872 35.7871 19.56 35.0111 19.56ZM38.9676 20H39.6156V17.192C39.9196 16.432 40.3596 16.16 40.7276 16.16C40.9036 16.16 40.9996 16.184 41.1436 16.232L41.2636 15.664C41.1276 15.6 40.9996 15.576 40.8076 15.576C40.3196 15.576 39.8876 15.928 39.5836 16.472H39.5676L39.5036 15.68H38.9676V20ZM44.1109 20.112C44.3589 20.112 44.6389 20.032 44.8869 19.944L44.7509 19.456C44.6149 19.52 44.4069 19.576 44.2549 19.576C43.7269 19.576 43.5669 19.256 43.5669 18.728V16.216H44.7589V15.68H43.5669V14.456H43.0229L42.9509 15.68L42.2709 15.728V16.216H42.9189V18.704C42.9189 19.544 43.2149 20.112 44.1109 20.112ZM50.1251 20.112C50.6691 20.112 51.1571 19.824 51.5731 19.48H51.6051L51.6611 20H52.1971V17.32C52.1971 16.288 51.7811 15.576 50.7251 15.576C50.0291 15.576 49.4291 15.888 49.0531 16.136L49.3091 16.592C49.6451 16.368 50.1091 16.12 50.6291 16.12C51.3731 16.12 51.5491 16.688 51.5411 17.272C49.6851 17.48 48.8611 17.944 48.8611 18.888C48.8611 19.68 49.4131 20.112 50.1251 20.112ZM50.2931 19.576C49.8531 19.576 49.5011 19.376 49.5011 18.848C49.5011 18.264 50.0131 17.888 51.5411 17.72V18.976C51.1011 19.368 50.7331 19.576 50.2931 19.576ZM55.514 20.112C56.514 20.112 57.05 19.536 57.05 18.84C57.05 18.016 56.354 17.768 55.714 17.528C55.226 17.344 54.77 17.176 54.77 16.752C54.77 16.4 55.042 16.088 55.618 16.088C56.01 16.088 56.314 16.256 56.61 16.472L56.93 16.056C56.602 15.784 56.13 15.576 55.61 15.576C54.682 15.576 54.146 16.112 54.146 16.776C54.146 17.52 54.81 17.8 55.418 18.024C55.906 18.208 56.426 18.416 56.426 18.88C56.426 19.272 56.13 19.592 55.53 19.592C54.994 19.592 54.61 19.376 54.234 19.072L53.906 19.512C54.314 19.848 54.89 20.112 55.514 20.112ZM20.624 32.168C22.424 32.168 23.564 31.088 23.564 29.708C23.564 28.388 22.76 27.8 21.74 27.356L20.48 26.804C19.808 26.516 19.016 26.18 19.016 25.28C19.016 24.464 19.688 23.936 20.72 23.936C21.548 23.936 22.208 24.272 22.736 24.776L23.264 24.14C22.676 23.516 21.764 23.06 20.72 23.06C19.148 23.06 18.008 24.02 18.008 25.352C18.008 26.648 18.98 27.248 19.784 27.596L21.056 28.16C21.896 28.532 22.556 28.82 22.556 29.78C22.556 30.68 21.836 31.292 20.636 31.292C19.7 31.292 18.8 30.848 18.176 30.176L17.576 30.86C18.32 31.652 19.376 32.168 20.624 32.168ZM27.7978 32H28.9378L31.2538 25.52H30.2938L29.0098 29.3C28.8178 29.936 28.6018 30.596 28.3978 31.196H28.3498C28.1458 30.596 27.9418 29.936 27.7378 29.3L26.4538 25.52H25.4458L27.7978 32ZM36.2564 32.168C37.1444 32.168 37.8164 31.868 38.3684 31.508L38.0084 30.848C37.5284 31.172 37.0124 31.376 36.3644 31.376C35.0804 31.376 34.2044 30.416 34.1444 28.988H38.5844C38.6084 28.82 38.6324 28.604 38.6324 28.4C38.6324 26.528 37.6964 25.364 36.0644 25.364C34.5884 25.364 33.1724 26.66 33.1724 28.772C33.1724 30.908 34.5404 32.168 36.2564 32.168ZM34.1324 28.268C34.2764 26.924 35.1284 26.156 36.0764 26.156C37.1324 26.156 37.7564 26.888 37.7564 28.268H34.1324ZM42.5304 32.168C42.8064 32.168 42.9624 32.12 43.1064 32.072L42.9744 31.316C42.8424 31.34 42.7944 31.34 42.7344 31.34C42.5664 31.34 42.4344 31.208 42.4344 30.884V22.46H41.4624V30.812C41.4624 31.688 41.7744 32.168 42.5304 32.168ZM47.9819 32.168C48.3539 32.168 48.7739 32.048 49.1459 31.916L48.9419 31.184C48.7379 31.28 48.4259 31.364 48.1979 31.364C47.4059 31.364 47.1659 30.884 47.1659 30.092V26.324H48.9539V25.52H47.1659V23.684H46.3499L46.2419 25.52L45.2219 25.592V26.324H46.1939V30.056C46.1939 31.316 46.6379 32.168 47.9819 32.168ZM54.0361 32.168C54.9241 32.168 55.5961 31.868 56.1481 31.508L55.7881 30.848C55.3081 31.172 54.7921 31.376 54.1441 31.376C52.8601 31.376 51.9841 30.416 51.9241 28.988H56.3641C56.3881 28.82 56.4121 28.604 56.4121 28.4C56.4121 26.528 55.4761 25.364 53.8441 25.364C52.3681 25.364 50.9521 26.66 50.9521 28.772C50.9521 30.908 52.3201 32.168 54.0361 32.168ZM51.9121 28.268C52.0561 26.924 52.9081 26.156 53.8561 26.156C54.9121 26.156 55.5361 26.888 55.5361 28.268H51.9121Z" fill="white"/>
            </svg>
        </div>
        <div on:click={()=>{dispatch('exportFileAsBuild', {})}}>
            <svg width="75" height="50" viewBox="0 0 75 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M0 39L60 39C68.2843 39 75 32.2843 75 24C75 15.7157 68.2843 9 60 9L0 9V39Z" fill="#18A0FB"/>
            <path d="M17.816 20H21.232V19.44H18.472V17.2H20.72V16.632H18.472V14.712H21.144V14.144H17.816V20ZM22.3106 20H22.9986L23.6146 18.952C23.7586 18.688 23.9026 18.424 24.0626 18.176H24.1026C24.2706 18.424 24.4306 18.688 24.5746 18.952L25.2466 20H25.9586L24.5266 17.816L25.8466 15.68H25.1666L24.6066 16.664C24.4626 16.904 24.3346 17.144 24.2066 17.392H24.1666C24.0226 17.144 23.8706 16.904 23.7346 16.664L23.1266 15.68H22.4226L23.7426 17.752L22.3106 20ZM27.6333 21.856H28.2813V20.368L28.2653 19.6C28.6733 19.928 29.0893 20.112 29.4813 20.112C30.4813 20.112 31.3693 19.256 31.3693 17.776C31.3693 16.44 30.7693 15.576 29.6493 15.576C29.1373 15.576 28.6493 15.864 28.2493 16.192H28.2333L28.1693 15.68H27.6333V21.856ZM29.3933 19.56C29.0973 19.56 28.6973 19.432 28.2813 19.088V16.744C28.7293 16.344 29.1133 16.128 29.4973 16.128C30.3533 16.128 30.6893 16.8 30.6893 17.784C30.6893 18.88 30.1373 19.56 29.3933 19.56ZM35.0111 20.112C36.0671 20.112 36.9951 19.28 36.9951 17.848C36.9951 16.408 36.0671 15.576 35.0111 15.576C33.9551 15.576 33.0191 16.408 33.0191 17.848C33.0191 19.28 33.9551 20.112 35.0111 20.112ZM35.0111 19.56C34.2271 19.56 33.6991 18.872 33.6991 17.848C33.6991 16.816 34.2271 16.12 35.0111 16.12C35.7871 16.12 36.3231 16.816 36.3231 17.848C36.3231 18.872 35.7871 19.56 35.0111 19.56ZM38.9676 20H39.6156V17.192C39.9196 16.432 40.3596 16.16 40.7276 16.16C40.9036 16.16 40.9996 16.184 41.1436 16.232L41.2636 15.664C41.1276 15.6 40.9996 15.576 40.8076 15.576C40.3196 15.576 39.8876 15.928 39.5836 16.472H39.5676L39.5036 15.68H38.9676V20ZM44.1109 20.112C44.3589 20.112 44.6389 20.032 44.8869 19.944L44.7509 19.456C44.6149 19.52 44.4069 19.576 44.2549 19.576C43.7269 19.576 43.5669 19.256 43.5669 18.728V16.216H44.7589V15.68H43.5669V14.456H43.0229L42.9509 15.68L42.2709 15.728V16.216H42.9189V18.704C42.9189 19.544 43.2149 20.112 44.1109 20.112ZM50.1251 20.112C50.6691 20.112 51.1571 19.824 51.5731 19.48H51.6051L51.6611 20H52.1971V17.32C52.1971 16.288 51.7811 15.576 50.7251 15.576C50.0291 15.576 49.4291 15.888 49.0531 16.136L49.3091 16.592C49.6451 16.368 50.1091 16.12 50.6291 16.12C51.3731 16.12 51.5491 16.688 51.5411 17.272C49.6851 17.48 48.8611 17.944 48.8611 18.888C48.8611 19.68 49.4131 20.112 50.1251 20.112ZM50.2931 19.576C49.8531 19.576 49.5011 19.376 49.5011 18.848C49.5011 18.264 50.0131 17.888 51.5411 17.72V18.976C51.1011 19.368 50.7331 19.576 50.2931 19.576ZM55.514 20.112C56.514 20.112 57.05 19.536 57.05 18.84C57.05 18.016 56.354 17.768 55.714 17.528C55.226 17.344 54.77 17.176 54.77 16.752C54.77 16.4 55.042 16.088 55.618 16.088C56.01 16.088 56.314 16.256 56.61 16.472L56.93 16.056C56.602 15.784 56.13 15.576 55.61 15.576C54.682 15.576 54.146 16.112 54.146 16.776C54.146 17.52 54.81 17.8 55.418 18.024C55.906 18.208 56.426 18.416 56.426 18.88C56.426 19.272 56.13 19.592 55.53 19.592C54.994 19.592 54.61 19.376 54.234 19.072L53.906 19.512C54.314 19.848 54.89 20.112 55.514 20.112ZM18.224 32H20.96C22.928 32 24.272 31.148 24.272 29.444C24.272 28.232 23.528 27.536 22.46 27.332V27.272C23.3 27.008 23.756 26.252 23.756 25.364C23.756 23.84 22.544 23.216 20.768 23.216H18.224V32ZM19.208 26.984V24.008H20.624C22.052 24.008 22.784 24.416 22.784 25.484C22.784 26.42 22.148 26.984 20.564 26.984H19.208ZM19.208 31.208V27.752H20.804C22.4 27.752 23.3 28.28 23.3 29.408C23.3 30.656 22.364 31.208 20.804 31.208H19.208ZM29.0401 32.168C29.9281 32.168 30.5881 31.688 31.2001 30.968H31.2241L31.3081 32H32.1241V25.52H31.1401V30.164C30.4921 30.968 30.0001 31.316 29.3161 31.316C28.4161 31.316 28.0321 30.764 28.0321 29.516V25.52H27.0601V29.636C27.0601 31.304 27.6841 32.168 29.0401 32.168ZM35.5749 32H36.5469V25.52H35.5749V32ZM36.0669 24.128C36.4629 24.128 36.7509 23.876 36.7509 23.444C36.7509 23.048 36.4629 22.784 36.0669 22.784C35.6709 22.784 35.3949 23.048 35.3949 23.444C35.3949 23.876 35.6709 24.128 36.0669 24.128ZM41.0655 32.168C41.3415 32.168 41.4975 32.12 41.6415 32.072L41.5095 31.316C41.3775 31.34 41.3295 31.34 41.2695 31.34C41.1015 31.34 40.9695 31.208 40.9695 30.884V22.46H39.9975V30.812C39.9975 31.688 40.3095 32.168 41.0655 32.168ZM46.7331 32.168C47.5371 32.168 48.2331 31.736 48.7491 31.22H48.7731L48.8691 32H49.6731V22.46H48.6891V24.992L48.7371 26.12C48.1611 25.64 47.6571 25.364 46.8891 25.364C45.3891 25.364 44.0571 26.672 44.0571 28.772C44.0571 30.944 45.1131 32.168 46.7331 32.168ZM46.9371 31.34C45.7491 31.34 45.0771 30.356 45.0771 28.76C45.0771 27.248 45.9411 26.192 47.0331 26.192C47.5971 26.192 48.1131 26.384 48.6891 26.9V30.404C48.1251 31.028 47.5731 31.34 46.9371 31.34Z" fill="white"/>
            </svg>
        </div>
    </div>

    {#if currentPageMode == 'page'}
    <div class="flex-column-center">
        <div id="show-preview-button" class="flex-column-center" on:click={()=>{dispatch('showDemoPage', {})}}>
            <div class="flex-row-center">
                <svg width="12" height="14" fill="none">
                    <path d="M0 12.259V1.74104C0 0.969246 0.837214 0.488375 1.50387 0.877258L10.5192 6.13622C11.1807 6.5221 11.1807 7.4779 10.5192 7.86378L1.50387 13.1227C0.837214 13.5116 0 13.0308 0 12.259Z" fill="#55B664"/>
                </svg>
            </div>
        </div>
    </div>
    {:else if currentPageMode == 'component'}
    <div class="flex-column-center">
        <div id="show-preview-button2" class="flex-column-center">
            <div class="flex-row-center">
                <svg width="12" height="14" fill="none">
                    <path d="M0 12.259V1.74104C0 0.969246 0.837214 0.488375 1.50387 0.877258L10.5192 6.13622C11.1807 6.5221 11.1807 7.4779 10.5192 7.86378L1.50387 13.1227C0.837214 13.5116 0 13.0308 0 12.259Z" fill="#E6E6E6"/>
                </svg>
            </div>
        </div>
    </div>
    {/if}

    <div class="wrapper">
        <div id="zoom-button" class="flex-column-center" on:click={setZoomDefault}>
            <div class="flex-row-center">
                <svg width="13" height="13" viewBox="0 0 13 13" fill="none" style="margin-top: 5px;">
                    <circle cx="5.5" cy="5.5" r="5" stroke="#949494"/>
                    <rect x="9" y="9.70711" width="1" height="4" transform="rotate(-45 9 9.70711)" fill="#949494"/>
                    <rect x="3" y="5" width="5" height="1" fill="#949494"/>
                    <rect x="5" y="8" width="5" height="1" transform="rotate(-90 5 8)" fill="#949494"/>
                </svg>
                <div id="zoom-title">
                    {zoom} %
                </div>
            </div>
        </div>
    </div>
</main>

<style>
    main {
        height: 50px;
        width: 450px;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }

    .flex-column-center {
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .flex-row-center {
        display: flex;
        flex-direction: row;
        justify-content: center;
    }

    #show-preview-button {
        width: 50px;
        height: 50px;
    }

    #show-preview-button:hover {
        background-color: #E6E6E6;
    }

    #show-preview-button2 {
        width: 50px;
        height: 50px;
    }

    #zoom-button {
        width: 150px;
        height: 50px;
    }

    #zoom-button:hover {
        background-color: #E6E6E6;
    }

    #zoom-title {
        padding-left: 20px;
        cursor: default;
        user-select: none;
        -moz-user-select: none; 
        -ms-user-select: none; 
        -webkit-user-select: none;

    }


    #save-button {
        margin: 0;
        padding: 0;
        background-color: transparent;
        border: 0;
    }

    #save-button:focus {
        background-color: #ffffff;
        border: 0;
        outline: 0;
    }

    #save-button div{
        width: 50px;
        font-family: 'Noto Sans KR', sans-serif;
        font-weight: 400;
        font-size: 14px;
        color: #8e8e8e;
    }

    #save-button:hover div{
        color: #404040;
        font-weight: 500;
    }


</style>